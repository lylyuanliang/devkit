# DevKit

ä¸€ä¸ªç°ä»£åŒ–çš„æ¡Œé¢åº”ç”¨å¼€å‘æ¡†æ¶ï¼ŒåŸºäº Tauri + React + TypeScriptï¼Œæä¾›å¯æ‰©å±•çš„å·¥å…·ç³»ç»Ÿå’Œä¸»é¢˜æ”¯æŒã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **ä¸»é¢˜ç³»ç»Ÿ** - æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜ï¼Œå¯æ‰©å±•è‡³æ— é™ä¸»é¢˜
- ğŸ› ï¸ **å·¥å…·ç³»ç»Ÿ** - æ¨¡å—åŒ–å·¥å…·æ¶æ„ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œå¸è½½
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œæ•´çš„å“åº”å¼ UIï¼Œæ”¯æŒçª—å£æ”¶ç¼©/å±•å¼€
- ğŸ¯ **ç°ä»£åŒ– UI** - è‡ªå®šä¹‰æ ‡é¢˜æ ã€çª—å£æ§åˆ¶æŒ‰é’®ã€æµç•…åŠ¨ç”»
- ğŸ”’ **å®‰å…¨æ€§** - Tauri æä¾›çš„åŸç”Ÿå®‰å…¨éš”ç¦»

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

#### Windows
- **Node.js** >= 18.0.0
- **Rust** >= 1.70.0ï¼ˆé€šè¿‡ rustup å®‰è£…ï¼‰
- **Visual Studio Build Tools** with C++ development
  - ä¸‹è½½ï¼šhttps://visualstudio.microsoft.com/downloads/
  - é€‰æ‹© "Desktop development with C++" å·¥ä½œè´Ÿè½½
  - åŒ…å«ï¼šMSVCã€Windows SDKã€CMake ç­‰

#### macOS
- **Node.js** >= 18.0.0
- **Rust** >= 1.70.0
- **Xcode Command Line Tools**ï¼š`xcode-select --install`

#### Linux
- **Node.js** >= 18.0.0
- **Rust** >= 1.70.0
- å¼€å‘å·¥å…·ï¼š`sudo apt-get install build-essential libssl-dev libgtk-3-dev libayatana-appindicator3-dev`

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
yarn install

# æˆ–ä½¿ç”¨ npm
npm install
```

### å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆåŒ…å« Tauri åº”ç”¨ï¼‰
yarn dev

# æˆ–
npm run dev
```

### æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
yarn build

# æˆ–
npm run build
```

## é¡¹ç›®ç»“æ„

```
devkit/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒåº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ frontend/        # React å‰ç«¯
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/  # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/       # React hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ styles/      # æ ·å¼å’Œä¸»é¢˜
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ store.ts     # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ main.tsx         # å…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ tools/                   # å·¥å…·åŒ…ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ src-tauri/                   # Tauri åç«¯
â”‚   â”œâ”€â”€ src/                     # Rust æºä»£ç 
â”‚   â”œâ”€â”€ capabilities/            # æƒé™é…ç½®
â”‚   â”œâ”€â”€ icons/                   # åº”ç”¨å›¾æ ‡
â”‚   â””â”€â”€ tauri.conf.json          # Tauri é…ç½®
â”œâ”€â”€ openspec/                    # OpenSpec å·¥ä½œæµ
â”‚   â””â”€â”€ changes/                 # åŠŸèƒ½å˜æ›´è®°å½•
â””â”€â”€ README.md                    # æœ¬æ–‡ä»¶
```

## ä¸»é¢˜ç³»ç»Ÿ

### ä½¿ç”¨ä¸»é¢˜

åº”ç”¨è‡ªåŠ¨æ”¯æŒäº®è‰²å’Œæš—è‰²ä¸»é¢˜ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æ ‡é¢˜æ çš„ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼ˆâ˜€ï¸/ğŸŒ™ï¼‰åˆ‡æ¢ä¸»é¢˜ã€‚

ä¸»é¢˜åå¥½ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨ localStorageï¼Œä¸‹æ¬¡æ‰“å¼€åº”ç”¨æ—¶ä¼šæ¢å¤ã€‚

### ä¸ºå·¥å…·æ·»åŠ ä¸»é¢˜æ”¯æŒ

å·¥å…·ä¼šè‡ªåŠ¨ç»§æ‰¿åº”ç”¨ä¸»é¢˜ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚åªéœ€åœ¨ CSS ä¸­ä½¿ç”¨ CSS å˜é‡ï¼š

```css
.my-tool {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
}
```

#### å¯ç”¨çš„ CSS å˜é‡

**èƒŒæ™¯è‰²ï¼š**
- `--bg-primary` - ä¸»èƒŒæ™¯è‰²
- `--bg-secondary` - æ¬¡èƒŒæ™¯è‰²
- `--bg-tertiary` - ä¸‰çº§èƒŒæ™¯è‰²

**æ–‡æœ¬è‰²ï¼š**
- `--text-primary` - ä¸»æ–‡æœ¬è‰²
- `--text-secondary` - æ¬¡æ–‡æœ¬è‰²
- `--text-tertiary` - ä¸‰çº§æ–‡æœ¬è‰²

**è¾¹æ¡†è‰²ï¼š**
- `--border-primary` - ä¸»è¾¹æ¡†è‰²
- `--border-secondary` - æ¬¡è¾¹æ¡†è‰²

**å¼ºè°ƒè‰²ï¼š**
- `--accent-primary` - ä¸»å¼ºè°ƒè‰²ï¼ˆè“è‰²ï¼‰
- `--accent-secondary` - æ¬¡å¼ºè°ƒè‰²
- `--accent-hover` - Hover çŠ¶æ€å¼ºè°ƒè‰²

**ç»„ä»¶ç‰¹å®šï¼š**
- `--sidebar-bg` - ä¾§è¾¹æ èƒŒæ™¯
- `--sidebar-border` - ä¾§è¾¹æ è¾¹æ¡†
- `--tab-bg` - æ ‡ç­¾æ èƒŒæ™¯
- `--tab-active-border` - æ´»è·ƒæ ‡ç­¾ä¸‹è¾¹æ¡†
- `--button-hover-bg` - æŒ‰é’® Hover èƒŒæ™¯

### æ‰©å±•ä¸»é¢˜ç³»ç»Ÿ

è¦æ·»åŠ æ–°ä¸»é¢˜ï¼Œç¼–è¾‘ `packages/core/src/frontend/styles/themes.ts`ï¼š

```typescript
import { themeRegistry } from '@devkit/core/styles/themes';

const customTheme = {
  id: 'custom',
  name: 'Custom Theme',
  colors: {
    bgPrimary: '#...',
    // ... æ‰€æœ‰é¢œè‰²å±æ€§
  }
};

themeRegistry.register(customTheme);
```

## å·¥å…·ç³»ç»Ÿ

### å·¥å…·æ¶æ„

å·¥å…·æ˜¯æ¨¡å—åŒ–çš„åŠŸèƒ½å•å…ƒï¼Œå¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚

è¯¦è§ `docs/tool-development.md`

### å·²æœ‰å·¥å…·

<!-- AUTO-GENERATED: Tool list starts here -->
<!-- æ³¨æ„ï¼šæ­¤éƒ¨åˆ†ç”±è‡ªåŠ¨åŒ–æµç¨‹ç»´æŠ¤ã€‚æ–°å¢å·¥å…·æ—¶ï¼Œè¯·æ›´æ–°æ­¤éƒ¨åˆ† -->
<!-- æ ¼å¼ï¼š- [å·¥å…·åç§°](packages/tools/tool-id/) - å·¥å…·æè¿° -->

å½“å‰æš‚æ— å·²æ³¨å†Œå·¥å…·ã€‚

<!-- AUTO-GENERATED: Tool list ends here -->

## å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### ç¯å¢ƒé—®é¢˜

#### é—®é¢˜ 1: Windows ä¸Š Tauri ç¼–è¯‘å¤±è´¥

**ç—‡çŠ¶ï¼š**
```
error: Microsoft Visual C++ 14.0 or greater is required
```

**åŸå› ï¼š** ç¼ºå°‘ Visual Studio Build Tools

**è§£å†³æ–¹æ¡ˆï¼š**
1. ä¸‹è½½ Visual Studio Build Toolsï¼šhttps://visualstudio.microsoft.com/downloads/
2. è¿è¡Œå®‰è£…ç¨‹åº
3. é€‰æ‹© "Desktop development with C++" å·¥ä½œè´Ÿè½½
4. å®Œæˆå®‰è£…åé‡å¯å‘½ä»¤è¡Œ

#### é—®é¢˜ 2: åº”ç”¨å›¾æ ‡ç¼ºå¤±

**ç—‡çŠ¶ï¼š**
```
error: icon file not found at src-tauri/icons/icon.ico
```

**åŸå› ï¼š** ç¼ºå°‘åº”ç”¨å›¾æ ‡æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç”Ÿæˆ icon.ico æ–‡ä»¶ï¼ˆæ¨èä½¿ç”¨åœ¨çº¿å·¥å…·æˆ– ImageMagickï¼‰
2. æ”¾ç½®åœ¨ `src-tauri/icons/icon.ico`
3. é‡æ–°è¿è¡Œ `yarn dev` æˆ– `yarn build`

#### é—®é¢˜ 3: çª—å£æ§åˆ¶æŒ‰é’®æ— å“åº”

**ç—‡çŠ¶ï¼š** æœ€å°åŒ–ã€æœ€å¤§åŒ–ã€å…³é—­æŒ‰é’®ç‚¹å‡»æ— ååº”

**åŸå› ï¼š** Tauri æƒé™æœªé…ç½®

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ `src-tauri/capabilities/main.json` æ˜¯å¦åŒ…å«ä»¥ä¸‹æƒé™ï¼š
   ```json
   "permissions": [
     "core:window:allow-minimize",
     "core:window:allow-maximize",
     "core:window:allow-close",
     "core:window:allow-toggle-maximize",
     "core:window:allow-is-maximized"
   ]
   ```
2. å¦‚æœç¼ºå°‘ï¼Œæ·»åŠ åé‡æ–°æ„å»º

#### é—®é¢˜ 4: èœå•æ”¶ç¼©åå‡ºç°æ»šåŠ¨æ¡

**ç—‡çŠ¶ï¼š** ä¾§è¾¹æ æ”¶ç¼©ååº•éƒ¨å‡ºç°ä¸‘é™‹çš„æ»šåŠ¨æ¡

**åŸå› ï¼š** CSS ä¸­ `overflow-y: auto` åœ¨å†…å®¹ä¸è¶³æ—¶ä»æ˜¾ç¤ºæ»šåŠ¨æ¡

**è§£å†³æ–¹æ¡ˆï¼š** å·²åœ¨ `Sidebar.css` ä¸­ä¿®å¤ï¼Œæ”¶ç¼©æ—¶è®¾ç½® `overflow: hidden`

#### é—®é¢˜ 5: æ ‡é¢˜æ æ— æ³•æ‹–æ‹½

**ç—‡çŠ¶ï¼š** æ— æ³•é€šè¿‡æ‹–æ‹½æ ‡é¢˜æ ç§»åŠ¨çª—å£

**åŸå› ï¼š** Tauri æ‹–æ‹½åŒºåŸŸé…ç½®ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®ä¿æ ‡é¢˜æ ä¸­æœ‰å…ƒç´ è®¾ç½®äº† `data-tauri-drag-region` å±æ€§
2. ç¡®ä¿æŒ‰é’®ç­‰äº¤äº’å…ƒç´ è®¾ç½®äº† `-webkit-app-region: no-drag`

#### é—®é¢˜ 6: æš—è‰²ä¸»é¢˜ä¸‹è¾¹æ¡†æ˜¾ç¤ºä¸ºç™½è‰²

**ç—‡çŠ¶ï¼š** æš—è‰²ä¸»é¢˜ä¸‹ï¼Œèœå•å’Œå³ä¾§åŒºåŸŸä¹‹é—´çš„åˆ†å‰²çº¿æ˜¾ç¤ºä¸ºç™½è‰²

**åŸå› ï¼š** è¾¹æ¡†é¢œè‰²ç¡¬ç¼–ç ä¸º `#e0e0e0`

**è§£å†³æ–¹æ¡ˆï¼š** å·²ä¿®å¤ï¼Œæ‰€æœ‰è¾¹æ¡†ç°åœ¨ä½¿ç”¨ `var(--border-primary)` CSS å˜é‡

### ä¸»é¢˜ç³»ç»Ÿé—®é¢˜

#### é—®é¢˜ 7: ä¸»é¢˜åˆ‡æ¢åæŸäº›å…ƒç´ é¢œè‰²æœªæ›´æ–°

**ç—‡çŠ¶ï¼š** åˆ‡æ¢ä¸»é¢˜åï¼ŒæŸäº› UI å…ƒç´ ä»ä¿æŒæ—§ä¸»é¢˜é¢œè‰²

**åŸå› ï¼š** å…ƒç´ ä½¿ç”¨äº†ç¡¬ç¼–ç çš„é¢œè‰²è€Œé CSS å˜é‡

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ç›¸å…³ CSS æ–‡ä»¶
2. å°†ç¡¬ç¼–ç é¢œè‰²æ›¿æ¢ä¸ºå¯¹åº”çš„ CSS å˜é‡
3. å‚è€ƒ"å¯ç”¨çš„ CSS å˜é‡"éƒ¨åˆ†

### UI/UX é—®é¢˜

#### é—®é¢˜ 8: æœ€å¤§åŒ–æŒ‰é’®å›¾æ ‡æ¨¡ç³Š

**ç—‡çŠ¶ï¼š** çª—å£æœ€å¤§åŒ–åï¼Œè¿˜åŸæŒ‰é’®çš„å›¾æ ‡æ˜¾ç¤ºæ¨¡ç³Š

**åŸå› ï¼š** SVG å›¾æ ‡ä½¿ç”¨äº† `fill="currentColor"` è€Œé `stroke`

**è§£å†³æ–¹æ¡ˆï¼š** å·²ä¿®å¤ï¼Œç°åœ¨ä½¿ç”¨æ¸…æ™°çš„ `stroke` ç»˜åˆ¶æ–¹å¼

## å¼€å‘æŒ‡å—

### ä»£ç é£æ ¼

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨
- éµå¾ª ESLint é…ç½®
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 

```bash
# æ£€æŸ¥ä»£ç é£æ ¼
yarn lint

# æ ¼å¼åŒ–ä»£ç 
yarn format
```

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `packages/tools/` ä¸‹åˆ›å»ºæ–°ç›®å½•
2. å®ç° `ToolInstance` æ¥å£
3. åœ¨ `tools.config.json` ä¸­æ³¨å†Œå·¥å…·
4. æ›´æ–°æœ¬ README çš„"å·²æœ‰å·¥å…·"éƒ¨åˆ†

è¯¦è§ `docs/tool-development.md`

### ä¿®æ”¹ä¸»é¢˜

ç¼–è¾‘ `packages/core/src/frontend/styles/themes.ts` ä¸­çš„ `LIGHT_THEME` æˆ– `DARK_THEME` å¯¹è±¡ã€‚

### çŠ¶æ€ç®¡ç†

åº”ç”¨ä½¿ç”¨ Zustand è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚ä¸»è¦ storeï¼š

- `useAppStore` - å…¨å±€åº”ç”¨çŠ¶æ€ï¼ˆæ ‡ç­¾ã€ä¾§è¾¹æ ã€ä¸»é¢˜ç­‰ï¼‰

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: å¼€å‘æ—¶ä¿®æ”¹ä»£ç ååº”ç”¨æ²¡æœ‰çƒ­æ›´æ–°ï¼Ÿ**
A: ç¡®ä¿ `yarn dev` æ­£åœ¨è¿è¡Œã€‚å¦‚æœä»æ— æ•ˆï¼Œå°è¯•æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨æˆ–é‡å¯å¼€å‘æœåŠ¡å™¨ã€‚

**Q: æ„å»ºæ—¶å‡ºç° TypeScript é”™è¯¯ï¼Ÿ**
A: è¿è¡Œ `yarn lint` æ£€æŸ¥æ‰€æœ‰é”™è¯¯ï¼Œç„¶åä¿®å¤ã€‚

**Q: åº”ç”¨å¯åŠ¨æ—¶å´©æºƒï¼Ÿ**
A: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰å’Œ Tauri æ—¥å¿—ã€‚å¸¸è§åŸå› æ˜¯æƒé™é…ç½®æˆ–ä¾èµ–ç¼ºå¤±ã€‚

**Q: å¦‚ä½•è°ƒè¯• Tauri åº”ç”¨ï¼Ÿ**
A:
1. åœ¨æµè§ˆå™¨ä¸­æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. æŸ¥çœ‹ Console æ ‡ç­¾ä¸­çš„é”™è¯¯ä¿¡æ¯
3. ä½¿ç”¨ `console.log()` è¿›è¡Œè°ƒè¯•

## ç»´æŠ¤æŒ‡å—

### è‡ªåŠ¨åŒ–ç»´æŠ¤

æœ¬ README çš„æŸäº›éƒ¨åˆ†ç”±è‡ªåŠ¨åŒ–æµç¨‹ç»´æŠ¤ï¼š

- **å·¥å…·åˆ—è¡¨** - åœ¨ `<!-- AUTO-GENERATED: Tool list starts here -->` å’Œ `<!-- AUTO-GENERATED: Tool list ends here -->` ä¹‹é—´
- **å·²çŸ¥é—®é¢˜** - æ–°å¢é—®é¢˜æ—¶ï¼Œè¯·æŒ‰ç…§ç°æœ‰æ ¼å¼æ·»åŠ 

### æ›´æ–° README

æ·»åŠ æ–°å·¥å…·æˆ–å‘ç°æ–°é—®é¢˜æ—¶ï¼š

1. å®šä½åˆ°ç›¸åº”çš„ AUTO-GENERATED éƒ¨åˆ†
2. æŒ‰ç…§ç°æœ‰æ ¼å¼æ·»åŠ å†…å®¹
3. ä¿æŒæ ¼å¼ä¸€è‡´æ€§

## è®¸å¯è¯

MIT

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ç›¸å…³æ–‡æ¡£

- [å·¥å…·å¼€å‘æŒ‡å—](docs/tool-development.md)
- [æ¶æ„æ–‡æ¡£](docs/ARCHITECTURE.md)
- [OpenSpec å·¥ä½œæµ](openspec/README.md)
